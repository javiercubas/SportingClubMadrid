import React, {useEffect, useState} from 'react'
import './cardPlayer.css'

export default function CardPlayer(props) {
    const { nombre, apellido, posicion, dorsal, id } = props;
    let position;

    if (posicion.length > 1) {
        position = posicion[0]
        for (let i = 1; i < posicion.length; i++) {
            position = position + " " + posicion[i];
        }
    }
    else {
        position = posicion;
    }

    const url = 'http://127.0.0.1:1337/api/players/' + id + '/?&populate=%2A'
    const [todos, setTodos] = useState()
    const fetchApi = async () => {
        const response = await fetch(url)
        const responseJSON = await response.json()
        setTodos(responseJSON.data.attributes)
    }

    useEffect(() => {
        fetchApi()
    }, [])
    let image='data:image/png;base64,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'
    if (todos){
        if (todos.Photo.data!=null){
            image='http://127.0.0.1:1337'+todos.Photo.data.attributes.url
        }
    }
    return (
        <li className={"box-player " + position}>
            <a href={"/" + nombre.toLowerCase() + "-" + apellido.toLowerCase().replaceAll(" ","-")} className='card-link'>
                <span className="player-name">{apellido}</span>
                <span className="player-position">{posicion[0]}</span>
                <span className="player-number">{dorsal}</span>
                <img src={image} alt={nombre + apellido} className="player-image" />
                <span className="player-card-profile">Ver la ficha</span>
            </a>
        </li>
    )
}

